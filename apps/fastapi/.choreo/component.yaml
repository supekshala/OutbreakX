schemaVersion: 1.2

build:
  buildCommand: pip install -r requirements.txt
  runCommand: uvicorn main:app --host=0.0.0.0 --port=8000

endpoints:
  - name: fastapi
    type: REST
    networkVisibility: Public
    schemaFilePath: openapi.yaml
    service:
      basePath: /
      port: 8000
      healthChecks:
        readiness:
          path: /api/v1/ping
          protocol: HTTP
          intervalSeconds: 10
          timeoutSeconds: 5
          failureThreshold: 3
        liveness:
          path: /api/v1/ping
          protocol: HTTP
          intervalSeconds: 30
          timeoutSeconds: 5
          failureThreshold: 3
